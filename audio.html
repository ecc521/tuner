<input id="freq" type="number" onchange="freq()">


<script>

console.log(parent)
    
function genscale(A4) {
    //Equal tempered scale
    let notes = {}
    let names = "C,C#,D,Eb,E,F,F#,G,Ab,A,B,Bb".split(",")
    let A4pos = 58
    for (let i=0;i<11;i++) {
        for (let c=0;c<names.length;c++) {
            let name = names[c] + i                
            let freq = A4*(2**((((i*12) + (c+1))-A4pos)/12)) //Just... Don't ask
            if (freq < 20000) {
                notes[name] = freq
            }
        }
    }
    return notes
}


let notes = genscale(440)



window.AudioContext = window.AudioContext || window.webkitAudioContext
let ctx = new AudioContext()

let osc = ctx.createOscillator();

osc.connect(ctx.destination);  
osc.type = "sine"
osc.start()

    
 

function setactive(boolean) {
  if (boolean) {
    self.active = true
  } 
  else {
    self.active = false
  }
}
  
  
function getid(n){return document.getElementById(n)}
    

function freq() {
    let value = getid("freq").value
    value = Math.max(20, value)
    value = Math.min(value, 20000)
    getid("freq").value = value
    osc.frequency.value = value
}
    
    

    
    
    

</script>
